<ng-template #listRepeatQuestionTemplate let-item="item">
    <div class="rd-search-results__item">
        <a class="rd-search-results__detail-link" [routerLink]="['/question', item._id]" [innerHTML]="item.title | nuiHighlight:searchText"></a>
        <div class="nui-text-small" i18n>
            Asked
            <span [title]="item.questionPost.creationDate | date:'long'">
                {{item.questionPost.creationDate | fromNow}}
            </span>
            by:
            <strong>{{item.questionPost.author}}</strong>
        </div>
    </div>
</ng-template>

<h2 class="nui-text-widget" i18n>Search results</h2>

<div class="rd-search-results__list">

    <div class="mb-3" [hidden]="!state.repeat?.itemsSource?.length">
        <nui-sorter [itemsSource]="sorter.items" [selectedItem]="sorter.items[0]" [sortDirection]="sorter.sortDirection"
                    (sorterAction)="dataSourceFilterService.applyFilters()"
                    #sorterRef>
        </nui-sorter>
    </div>

    <nui-repeat [itemsSource]="state.repeat.itemsSource" [repeatItemTemplateRef]="listRepeatQuestionTemplate" paddingSize="normal"
                #filteringRepeat>
    </nui-repeat>

    <div class="mt-3" [hidden]="!state.repeat?.itemsSource?.length">
        <nui-paginator [page]="page"
                       [pageSize]="5"
                       [total]="state.paginator.total"
                       (pagerAction)="dataSourceFilterService.applyFilters()"
                       #filteringPaginator>
        </nui-paginator>
    </div>

</div>
