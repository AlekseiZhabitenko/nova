<nui-select-v2 class="color-picker-select"
                [overlayConfig]="overlayConfig"
                [syncWidth]='false'
                [displayValueTemplate]="colorSelectTemplate">
    <div class="color-picker-container">
        <div class="d-inline-flex flex-wrap box" *ngFor="let color of colors">
            <nui-select-v2-option [value]="color"
                                    [displayValueContext]="color"
                                    class="w-100 h-100 reset-box-sizes"
                                    #option>
                <div class="color-picker-option" [class.color-picker-option--selected]="option?.selected">
                    <div class="color-picker-option__color-box" [ngStyle]="setStyles(color)">
                        <div class="color-picker-option__glyph"
                                [style.mix-blend-mode]="color === defaultColor ? 'difference': null"
                                *ngIf="option?.selected"
                        ></div>
                    </div>
                </div>
            </nui-select-v2-option>
        </div>
    </div>
</nui-select-v2>

<ng-template #colorSelectTemplate let-color let-open="open">
    <div class="color-picker-input">
        <div class="color-picker-input__box">
            <div class="color-picker-input__color-box" [ngStyle]="setStyles(color)"></div>
        </div>
        <div class="color-picker-input__toggle">
            <nui-icon  [style.transform]="open ? 'rotate(180deg)' : ''" icon="caret-down"></nui-icon>
        </div>
    </div>
</ng-template>